<html>

<head>
    <meta charset="UTF-8" />
    <title>Part 04</title>
    <style>
        .loader {
            border: 16px solid #f3f3f3;
            /* Light grey */
            border-top: 16px solid #3498db;
            /* Blue */
            border-radius: 50%;
            width: 120px;
            height: 120px;
            animation: spin 2s linear infinite;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }
    </style>
</head>

<body>

    <div class="loader" id="loader">

    </div>
    <div id="app">
        <input class="entry" type="text" placeholder="Digite seu nome no github" />
        <button class="btn">Pesquisar repositorios</button>
        <ul></ul>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script>



        function myPromise() {
            return new Promise((resolve, reject) => {
                setTimeout(() => {resolve('Stack Overflow');}, 2000);
            });
        }

        function showSpinner() {
            document.getElementById('loader').style.display = 'block';
        }

        function hideSpinner() {
            document.getElementById('loader').style.display = 'none';
        }

        async function sayHello() {
            try {
                showSpinner()
                const externalFetchedText = await myPromise();
                console.log('Hello ' + externalFetchedText);
            } catch (err) {
                console.error(err);
            } finally {
                hideSpinner()
            }
        }
        var btn = document.querySelector('#app button');
        btn.onclick = function() {sayHello()};
    </script>

</body>

</html>